{"data":{"github":{"repository":{"object":{"__typename":"GitHub_Blob","text":"; Define the transformation flip-horiz, which flips painters horizontally, \n; and transformations that rotate painters counterclockwise by 180 degrees \n; and 270 degrees.\n#lang racket\n(require (planet \"sicp.ss\" (\"soegaard\" \"sicp.plt\" 2 1)))\n\n; Helpers\n(define (xcor-vect v) (car v))\n(define (ycor-vect v) (cdr v))\n(define (sub-vect v1 v2)\n    (make-vect \n        (- (xcor-vect v1) (xcor-vect v2))\n        (- (ycor-vect v1) (ycor-vect v2))))\n\n(define (transform-painter painter origin corner1 corner2)\n  (lambda (frame)\n    (let ((m (frame-coord-map frame)))\n      (let ((new-origin (m origin)))\n        (painter (make-frame\n                   new-origin\n                   (sub-vect (m corner1) new-origin)\n                   (sub-vect (m corner2) new-origin)))))))\n\n; (i) Flip horizontally\n(define (flip-horiz painter)\n  (transform-painter painter\n                     (make-vect 1 0)\n                     (make-vect 0 0)\n                     (make-vect 1 1)))\n\n; Test horizontal flip\n(define f1-list (list (make-segment (make-vect 0.3 0.3) (make-vect 0.3 0.7))\n                      (make-segment (make-vect 0.3 0.7) (make-vect 0.7 0.5))\n                      (make-segment (make-vect 0.7 0.5) (make-vect 0.3 0.3))))\n(define f1 (segments->painter f1-list))\n(display \"\\nFrame f1\\n\")\n(paint f1)\n\n(display \"\\nFrame flipped horizontally f1\\n\")\n(paint (flip-horiz f1))\n\n; (ii) Counterclockwise 180deg\n(define (rotate180 painter)\n  (transform-painter painter\n                     (make-vect 1 1)\n                     (make-vect 0 1)\n                     (make-vect 1 0)))\n(display \"\\nFrame rotate counter clockwise 180deg f1\\n\")\n(paint (rotate180 f1))\n\n; (iii) Counterclockwise 270deg\n(define (rotate270 painter)\n  (transform-painter painter\n                     (make-vect 0 1)\n                     (make-vect 0 0)\n                     (make-vect 1 1)))\n(display \"\\nFrame rotate counter clockwise 270deg f1\\n\")\n(paint (rotate270 f1))"}}}},"pageContext":{"name":"2.50.rkt","expr":"master:sicp/ch2-abstraction-data/2.50.rkt"}}