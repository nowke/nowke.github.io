{"data":{"github":{"repository":{"object":{"__typename":"GitHub_Blob","text":"; Arithmetic\n(define (add-complex z1 z2)\n    (make-from-real-imag (+ (real-part z1) (real-part z2))\n                         (+ (imag-part z1) (imag-part z2))))\n\n(define (sub-complex z1 z2)\n    (make-from-real-imag (- (real-part z1) (real-part z2))\n                         (- (imag-part z1) (imag-part z2))))\n\n(define (mul-complex z1 z2)\n    (make-from-mag-ang (* (magnitude z1) (magnitude z2))\n                       (+ (angle z1) (* angle z2))))\n\n(define (div-complex z1 z2)\n    (make-from-mag-ang (/ (magnitude z1) (magnitude z2))\n                       (- (angle z1) (* angle z2))))\n\n; Representation\n; (1) In Coordinate form\n(define (real-part z) (car z))\n(define (imag-part z) (cdr z))\n(define (magnitude z)\n  (sqrt (+ (square (real-part z))\n           (square (imag-part z)))))\n(define (angle z)\n    (atan (imag-part z) (real-part z)))\n(define (make-from-real-imag x y) (cons x y))\n(define (make-from-mag-ang r a)\n    (cons (* r (cos a)) (* r (sin a))))\n\n; (2) In polar form\n(define (real-part z) (* (magnitude z) (cos (angle z))))\n(define (imag-part z) (* (magnitude z) (sin (angle z))))\n(define (magnitude z) (car z))\n(define (angle z) (cdr z))\n(define (make-from-real-imag x y)\n    (cons (sqrt (+ (square x) (square y)))\n          (atan y x)))\n(define (make-from-mag-ang r a) (cons r a))\n\n; Tagged data\n(define (attach-tag type-tag contents)\n    (cons type-tag contents))\n\n(define (type-tag datum)\n    (if (pair? datum)\n        (car datum)\n        (error \"Bad tagged datum: TYPE-TAG\" datum)))\n(define (contents datum)\n    (if (pair? datum)\n        (cdr datum)\n        (error \"Bad tagged datum: CONTENTS\" datum)))\n(define (rectangular? z)\n    (eq? (type-tag z) 'rectangular))\n(define (polar? z) (eq? (type-tag z) 'polar))\n\n; Ben's revised rectangular representation\n(define (real-part-rectangular z) (car z))\n(define (imag-part-rectangular z) (cdr z))\n(define (magnitude-rectangular z)\n  (sqrt (+ (square (real-part-rectangular z))\n           (square (imag-part-rectangular z)))))\n(define (angle-rectangular z)\n    (atan (imag-part-rectangular z)\n          (real-part-rectangular z)))\n(define (make-from-real-imag-rectangular x y) (attach-tag 'rectangular (cons x y)))\n(define (make-from-mag-ang-rectangular r a)\n    (attach-tag 'rectangular\n                (cons (* r (cos a)) (* r (sin a)))))\n\n; Alyssa's revised polar representation\n(define (real-part-polar z)\n    (* (magnitude-polar z) (cos (angle-polar z))))\n(define (imag-part-polar z)\n    (* (magnitude-polar z) (sin (angle-polar z))))\n(define (magnitude-polar z) (car z))\n(define (angle-polar z) (cdr z))\n(define (make-from-real-imag-polar x y)\n  (attach-tag 'polar\n              (cons (sqrt (+ (square x) (square y)))\n                    (atan y x)))) \n(define (make-from-mag-ang-polar r a)\n  (attach-tag 'polar (cons r a)))\n\n; Generic selectors\n(define (real-part z)\n    (cond ((rectangular? z)\n           (real-part-rectangular (contents z)))\n          ((polar? z)\n           (real-part-polar (contents z)))\n          (else (error \"Unknown type: REAL-PART\" z))))\n(define (imag-part z)\n    (cond ((rectangular? z)\n           (imag-part-rectangular (contents z)))\n          ((polar? z)\n           (imag-part-polar (contents z)))\n          (else (error \"Unknown type: IMAG-PART\" z))))\n(define (magnitude z)\n    (cond ((rectangular? z)\n           (magnitude-rectangular (contents z)))\n          ((polar? z)\n           (magnitude-polar (contents z)))\n          (else (error \"Unknown type: MAGNITUDE\" z))))\n(define (angle z)\n    (cond ((rectangular? z)\n           (angle-rectangular (contents z)))\n          ((polar? z)\n           (angle-polar (contents z)))\n          (else (error \"Unknown type: ANGLE\" z))))\n\n(define (make-from-real-imag x y)\n    (make-from-real-imag-rectangular x y))\n(define (make-from-mag-ang r a)\n    (make-from-mag-ang-polar r a))\n          "}}}},"pageContext":{"name":"complex-numbers.scm","expr":"master:sicp/ch2-abstraction-data/complex-numbers.scm"}}